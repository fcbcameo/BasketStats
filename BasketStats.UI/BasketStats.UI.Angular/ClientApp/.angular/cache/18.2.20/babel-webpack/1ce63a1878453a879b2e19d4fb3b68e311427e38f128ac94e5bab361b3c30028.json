{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"../../services/pdf.service\";\nimport * as i3 from \"@angular/common\";\nfunction PlayerStatsOverviewComponent_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", c_r1.id)(\"selected\", ctx_r1.selectedCompetitionId === c_r1.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r1.name);\n  }\n}\nfunction PlayerStatsOverviewComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \"Loading player statistics...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PlayerStatsOverviewComponent_div_11_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"td\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"td\");\n    i0.ɵɵtext(37);\n    i0.ɵɵpipe(38, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"td\");\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"td\");\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\");\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"td\");\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"td\");\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r4.playerName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.gamesPlayed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 18, p_r4.pointsPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 21, p_r4.reboundsPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 24, p_r4.assistsPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 27, p_r4.fieldGoalPercentage, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 30, p_r4.threePointPercentage, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 33, p_r4.freeThrowPercentage, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(26, 36, p_r4.stealsPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(29, 39, p_r4.blocksPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(32, 42, p_r4.turnoversPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 45, p_r4.minutesPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(38, 48, p_r4.efficiency, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r4.totalPoints);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.totalRebounds);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.totalAssists);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.totalSteals);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.totalBlocks);\n  }\n}\nfunction PlayerStatsOverviewComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"div\", 9)(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PlayerStatsOverviewComponent_div_11_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.exportPdf());\n    });\n    i0.ɵɵtext(4, \"Export to PDF\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 11)(6, \"table\", 12)(7, \"thead\")(8, \"tr\")(9, \"th\");\n    i0.ɵɵtext(10, \"Player\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"GP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"PPG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"RPG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"APG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\");\n    i0.ɵɵtext(20, \"FG%\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"3P%\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"FT%\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"SPG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"BPG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"th\");\n    i0.ɵɵtext(30, \"TOV\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"MPG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\");\n    i0.ɵɵtext(34, \"EFF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"Total PTS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"th\");\n    i0.ɵɵtext(38, \"Total REB\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"th\");\n    i0.ɵɵtext(40, \"Total AST\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"th\");\n    i0.ɵɵtext(42, \"Total STL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"th\");\n    i0.ɵɵtext(44, \"Total BLK\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(45, \"tbody\");\n    i0.ɵɵtemplate(46, PlayerStatsOverviewComponent_div_11_tr_46_Template, 49, 51, \"tr\", 13);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(46);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.players);\n  }\n}\nexport let PlayerStatsOverviewComponent = /*#__PURE__*/(() => {\n  class PlayerStatsOverviewComponent {\n    constructor(api, pdf) {\n      this.api = api;\n      this.pdf = pdf;\n      this.players = null;\n      this.competitions = [];\n      this.selectedCompetitionId = null;\n    }\n    ngOnInit() {\n      this.api.getCompetitions().subscribe(c => this.competitions = c);\n      this.load();\n    }\n    onCompetitionChanged(e) {\n      const v = e.target.value;\n      this.selectedCompetitionId = v || null;\n      this.load();\n    }\n    load() {\n      this.players = null;\n      this.api.getAllPlayersStats(this.selectedCompetitionId ?? undefined).subscribe(ps => this.players = ps);\n    }\n    exportPdf() {\n      if (!this.players || this.players.length === 0) return;\n      const compName = this.selectedCompetitionId ? this.competitions.find(c => c.id === this.selectedCompetitionId)?.name ?? '' : 'All Competitions';\n      this.pdf.generatePlayerStatsReport(this.players, compName);\n    }\n    static {\n      this.ɵfac = function PlayerStatsOverviewComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PlayerStatsOverviewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.PdfService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PlayerStatsOverviewComponent,\n        selectors: [[\"app-player-stats-overview\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 12,\n        vars: 3,\n        consts: [[1, \"stats-card\"], [1, \"competition-selector\"], [1, \"form-select\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"value\", \"selected\"], [1, \"loading\"], [2, \"display\", \"flex\", \"justify-content\", \"flex-end\", \"margin-bottom\", \"8px\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"table-responsive\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [2, \"color\", \"var(--nba-accent-orange)\"]],\n        template: function PlayerStatsOverviewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"Player Statistics Overview\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"h4\");\n            i0.ɵɵtext(5, \"Competition\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"select\", 2);\n            i0.ɵɵlistener(\"change\", function PlayerStatsOverviewComponent_Template_select_change_6_listener($event) {\n              return ctx.onCompetitionChanged($event);\n            });\n            i0.ɵɵelementStart(7, \"option\", 3);\n            i0.ɵɵtext(8, \"All Competitions (Aggregated)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(9, PlayerStatsOverviewComponent_option_9_Template, 2, 3, \"option\", 4);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(10, PlayerStatsOverviewComponent_div_10_Template, 2, 0, \"div\", 5)(11, PlayerStatsOverviewComponent_div_11_Template, 47, 1, \"div\", 6);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngForOf\", ctx.competitions);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.players);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.players);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return PlayerStatsOverviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}