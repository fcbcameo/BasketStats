{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCardModule } from '@angular/material/card';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/select\";\nimport * as i5 from \"@angular/material/core\";\nimport * as i6 from \"@angular/material/card\";\nfunction PlayerStatsDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Loading competitions...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_mat_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", c_r3.id)(\"selected\", ctx_r1.selectedCompetitionId === c_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r3.name);\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 10);\n    i0.ɵɵtext(1, \"Showing stats for: \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.getSelectedCompetitionName());\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 10);\n    i0.ɵɵtext(1, \"Showing aggregated stats for \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"all competitions\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"Loading player stats...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card\", 3)(4, \"h3\");\n    i0.ɵɵtext(5, \"Overview\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11)(7, \"span\", 12);\n    i0.ɵɵtext(8, \"Games Played\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 13);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 11)(12, \"span\", 12);\n    i0.ɵɵtext(13, \"Total Points\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 13);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 11)(17, \"span\", 12);\n    i0.ɵɵtext(18, \"Points Per Game\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 13);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 11)(23, \"span\", 12);\n    i0.ɵɵtext(24, \"Total Rebounds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 13);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 11)(28, \"span\", 12);\n    i0.ɵɵtext(29, \"Rebounds Per Game\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"span\", 13);\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"number\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.stats.playerName);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.stats.gamesPlayed);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.stats.totalPoints);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(21, 6, ctx_r1.stats.pointsPerGame, \"1.1-1\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r1.stats.totalRebounds);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(32, 9, ctx_r1.stats.reboundsPerGame, \"1.1-1\"));\n  }\n}\nfunction PlayerStatsDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\", 3)(2, \"h3\");\n    i0.ɵɵtext(3, \"Filter by Competition\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-form-field\", 4)(5, \"mat-label\");\n    i0.ɵɵtext(6, \"Competition\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-select\", 5);\n    i0.ɵɵlistener(\"selectionChange\", function PlayerStatsDetailComponent_div_1_Template_mat_select_selectionChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onCompetitionChanged($event.value));\n    });\n    i0.ɵɵelementStart(8, \"mat-option\", 6);\n    i0.ɵɵtext(9, \"All Competitions (Aggregated)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PlayerStatsDetailComponent_div_1_mat_option_10_Template, 2, 3, \"mat-option\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, PlayerStatsDetailComponent_div_1_p_11_Template, 4, 1, \"p\", 8)(12, PlayerStatsDetailComponent_div_1_p_12_Template, 4, 0, \"p\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, PlayerStatsDetailComponent_div_1_div_13_Template, 2, 0, \"div\", 0)(14, PlayerStatsDetailComponent_div_1_div_14_Template, 33, 12, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"value\", null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.competitions);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedCompetitionId);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.selectedCompetitionId);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.stats);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.stats);\n  }\n}\nexport let PlayerStatsDetailComponent = /*#__PURE__*/(() => {\n  class PlayerStatsDetailComponent {\n    constructor(api) {\n      this.api = api;\n      this.stats = null;\n      this.competitions = null;\n      this.selectedCompetitionId = null;\n    }\n    ngOnInit() {\n      const url = new URL(location.href);\n      this.playerId = url.pathname.split('/').at(-2); // players/:playerId/stats\n      this.api.getCompetitions().subscribe(c => this.competitions = c);\n      this.loadStats();\n    }\n    onCompetitionChanged(value) {\n      this.selectedCompetitionId = value || null;\n      this.loadStats();\n    }\n    loadStats() {\n      this.stats = null;\n      this.api.getPlayerStats(this.playerId, this.selectedCompetitionId ?? undefined).subscribe(s => this.stats = s);\n    }\n    getSelectedCompetitionName() {\n      const c = this.competitions?.find(x => x.id === this.selectedCompetitionId);\n      return c?.name ?? 'All Competitions';\n    }\n    static {\n      this.ɵfac = function PlayerStatsDetailComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PlayerStatsDetailComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PlayerStatsDetailComponent,\n        selectors: [[\"app-player-stats-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"loading\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [1, \"stats-card\"], [\"appearance\", \"fill\", 2, \"width\", \"300px\"], [3, \"selectionChange\"], [3, \"value\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-info\", 4, \"ngIf\"], [3, \"value\", \"selected\"], [1, \"text-info\"], [1, \"stat-item\"], [1, \"stat-label\"], [1, \"stat-value\"]],\n        template: function PlayerStatsDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, PlayerStatsDetailComponent_div_0_Template, 2, 0, \"div\", 0)(1, PlayerStatsDetailComponent_div_1_Template, 15, 6, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", !ctx.competitions);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.competitions);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe, MatSelectModule, i3.MatFormField, i3.MatLabel, i4.MatSelect, i5.MatOption, MatCardModule, i6.MatCard],\n        encapsulation: 2\n      });\n    }\n  }\n  return PlayerStatsDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}